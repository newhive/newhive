@import "common";

body.edit {
// for backwards-compatability with old editor.
// TODO: Make Gibson default and migrate all old expressions to override
// default
.ehapp.text { font-family: Helvetica, Arial, sans-serif; }
.prompts.gifwall {display:none}
&.default {
    #edit_nav .change_zoom {display:none}
    .ehapp .highlight {
        background-color: $color_selected;
        opacity: .6;
    }
}
&.gifwall {
    overflow-x:hidden;
    .overlay .fluff {display:none !important}
    .control.stack {display:none}
    .control.rotate {display:none}
    .control.copy {display:none}
    .control .set_bg {display:none}
    .control .opacity {display:none}
    .control .button.align {display:none}
    .prompts.gifwall {
        display:block;
        // padding-top: 160px;
        // padding-bottom: 160px;
        .hint { pointer-events:auto; }
        img.plus_btn { 
            // display: none;
            width: 140px; 
            margin: 40px 0px; 
            pointer-events:auto;
        }
    }
    .app_btns {display:none !important}
    .app_btns {min-width:0px}
    .app_btns .icon {display:none}
    .app_btns .icon.insert_image {display:inline-block}
    .app_btns .icon.change_zoom {display:inline-block}
    #image_background { display: none; }

    .highlight_box {
        z-index: 2;
        position: absolute;
        top: 0px;
        bottom: 0px;
        // height: 100%;
        width: 100%;
        padding: 10px;
        @include box-sizing( border-box );
        pointer-events: none;
        .highlight {
            width: 100%;
            height: 100%;
            border: $color_selected 10px dashed;
            @include box-sizing( border-box );
            // position: absolute;
            // top: 0px;
        }
    }
}

.ruler {
    z-index: 1337;
    position: absolute;
    background-color: $color_selected;
}
#edit_debug {
    background-color: #88D;
    width: 300px;
    position: fixed;
    z-index: 1337;
    white-space: pre;
}
#happs {
    position: absolute;
    left: 0; top: 0; right:0; bottom: 0;
    z-index: 3;
}

.edit.overlay {
    background-color: white;
    position: fixed;
    z-index: 4;
    padding: 0 10px;
}

#edit_nav {
    right: 20px; bottom: 20px;
    .change_zoom {
        padding: 6px 0px;
        img { width: 40px; }
    }
    & > * {
        display: inline-block;
        padding: 10px 4px;
        height: 22px;
        vertical-align: top;
    }
}

#site {
    // currently selection always gets events, but they can be intercepted
    &.default .drag { cursor: move; }
    &.draw { cursor: crosshair; }
}

#bg {
    z-index: 1;
}
#grid_guide {
    z-index: 2;
    position : fixed;
    width : 100%; height : 100%;
}
.editor_overlay {
    z-index: 4;
    position: fixed;
    width : 100%; height : 100%;
    pointer-events:none;

    @include box-sizing( border-box );
    padding: 20px;
    .inset {
        width : 100%; height : 100%;
        border: $color_forest_teal 2px dashed;
    }
}
.prompts {
    z-index: 3;
    position : absolute;
    width : 100%;
    pointer-events:none;

    font-size: 32px;
    font-weight: 700;
}
.ehapp, .ehapp > * {
    position : absolute;
}
// .ehapp { @include box-sizing( border-box ); }
.ehapp .highlight {
    width: 100%;
    height: 100%;
    pointer-events:none;
    z-index: 1336;
}
.ehapp .shield {
    left : 0px; top : 0px;
    z-index: 2;
    width : 100%; height : 100%;
}
.select_border {
    background-color: $color_selected; position: absolute;
    border-color: $color_light_blue;
    border-style: solid;
    box-sizing: border-box;
    &.left { border-width: 0 0 0 1px; }
    &.top { border-width: 1px 0 0 0; }
    &.right { border-width: 0 1px 0 0; }
    &.bottom { border-width: 0 0 1px 0; }
    position: absolute;
    z-index: 1;
}
.select_box {
    width: 100%; height:100%;
    border: 2px dashed $color_selected;
}
.app_select { position : absolute; }

.content { z-index : 2 }
/* it would be nice to make all .content 100%x100%, but that distorts newn images */
.ehapp.rectangle {
    pointer-events: none;
    .content {
        width : 100%; height : 100%;
        pointer-events: visible;
    }
}
.ehapp.svg {
    pointer-events: none;
    .content {
        width : 100%; height : 100%;
        * { pointer-events: visible }
    }
}
.content.sketch { width : 100%; height : 100%; } 
.content.code {
    width: 100%; height: 100%;
    border: none;
    margin: 0;
    box-sizing: border-box;
    font-family: Bitstream Mono, fixed;
}

.drawer { background-color : white; }

.controls_src { display : none; }

.controls {
    position:absolute;
    width:0; height:0;
    z-index: 4;

    .control { position : absolute; cursor : default; z-index : 1 }

    .resize_v { cursor : ns-resize; }
    .resize_h { cursor : ew-resize; }
    .resize { cursor : se-resize; }
    .stack img { display : inline-block; margin-left : 5px; }
    .control.drawer {
        text-align: left;
        display: none;
    }
    .point {
        background-color: $color_selected;
        margin: -7px 0 0 -7px;
        width: 14px; height:14px;
        border-radius: 7px;
    }

    .stack { white-space : nowrap; }
    .buttons {
        pointer-events: none;
        * { pointer-events: auto; }
        .button {
            margin-right: 4px;
            float: left;
        }
    }
}

.drawer.brush .option:hover { background-color: $color_selected; }
.drawer.brush .option.selected { background-color: $color_pale_yellow; }
.control .button, .control .option { cursor : default; }
.button.blank {
    display: inline-block;
    background-image: asset_url('skin/1/button.png');
    width: 28px; height: 28px;
    line-height: 28px;
    text-align: center;
    font-weight: bold;
}
.option.small { display : inline-block; }
.drawer.bstyle { padding : 5px 5px 0 5px; }
.bstyle .border { background-color : #54D3AC; border-color : #0A2655; border-width : 3px; width : 20px; height : 15px; margin-bottom : 10px; }
.bstyle .border.none { width : 26px; height : 18px; }
.drawer.fontname { width : 453px; }
.drawer.fontname .option { margin-bottom : 5px; display : float; float : left; width : 146px; height : 1em; 
    &.longish { margin-top: 2px; font-size:15px; } }
.align .option.small { margin : 5px; }
.drawer.link { background-color : transparent; }
.drawer.link img { vertical-align : middle; }
.drawer.fontsize { white-space : nowrap; overflow : hidden; }
.fontsize .option { line-height : 100px; vertical-align : middle; }

.app_btns {
    bottom: 20px;
    min-width: 354px; /* for centering before loading complete */

    .insert_btn { cursor: default; }
    .icon {
        display: inline-block;
        width: 59px;
        background-size: 59px 44px;
    }

    .active { background-color: black; }

    .insert_text   { &.active { background-image: asset_url('skin/1/text-hover.png');   } background-image: asset_url('skin/1/text.png');   }
    .insert_image  { &.active { background-image: asset_url('skin/1/images-hover.png'); } background-image: asset_url('skin/1/images.png'); }
    .insert_audio  { &.active { background-image: asset_url('skin/1/audio-hover.png');  } background-image: asset_url('skin/1/audio.png');  }
    .insert_embed  { &.active { background-image: asset_url('skin/1/editor_embed-hover.png');  } background-image: asset_url('skin/1/editor_embed.png');  }
    .insert_shape  { &.active { background-image: asset_url('skin/1/shapes-hover.png'); } background-image: asset_url('skin/1/shapes.png'); }
    .insert_file   { &.active { background-image: asset_url('skin/1/upload-hover.png'); } background-image: asset_url('skin/1/upload.png'); }
    // .change_zoom   { &.active { background-image: asset_url('skin/1/zoom-hover.png'); } background-image: asset_url('skin/1/zoom.png'); display:none; }
    .labs          { &.active { background-image: asset_url('skin/1/labs-hover.png');   } background-image: asset_url('skin/1/labs.png'); }
}

textarea.code {
    font-family: monospace;
}

#menu_image {
    width: 200px;
}

.btn { display: inline-block; padding: 5px; cursor: default; }
// .menu label { font-weight: normal; font-size: 15px; }

#btn_save {
    @include border-radius(10px);
    margin-right: -11px;
    padding-left: 8px;
    padding-right: 10px;
    .loading { width: 25px; vertical-align: middle; }
    // TODO: we should have a mechanism to set up icons, correctly aligned,
    // correctly sized, with automatic hover.
    div.arrow { 
        background-image: asset_url('skin/nav/small_arrow.png');
        width: 22px;
        height: 42px;
        margin-top: -10px;
    }
    &:hover div.arrow { background-image: asset_url('skin/nav/small_arrow_hover.png'); }
}
#right { position : absolute; right : 0px; top : 0px; }
#right * { vertical-align : middle }

.color_picker {
    width: 300px; height: 176px;
    & > * { position: absolute; }
}
.color_picker img { width : 100%; }
.color_picker .palette {
    left: 7px; top: 7px;
    width: 150px; height: 150px;
}
.color_picker .color_select {
    display: inline-block;
    width: 20px; height: 20px;
    float: left;
    margin: 2px;
}
.color_picker .hue_bar {
    width: 10px; height: 170px;
    left: 149px; top: 9px;
    margin: 2px 10px;
}
.color_picker .shades {
    width : 120px; height : 120px;
    left: 179px; top: 9px;
}
.color_picker .color_input {
    left: 187px; top: 134px;
    width: 100px;
}

#dia_edit_bg {
    width: 560px;
    padding: 20px;

    .small_text { font-size : x-small; }
    h2 { margin : 0 0 20px; text-align : center; }
    #edit_bg_image { float : left; margin-right : 30px; }
    #bg_preview { width : 120px; height : 80px; overflow : hidden; }
    #bg_preview img { width : 100%; }
    #bg_opacity_label { margin : 5px; }
    #bg_opacity { font-size : xx-small; }
}

.menu.embed { padding: 10px; }
.embed_box { margin: 8px 0; width: 250px; height: 4.5em; resize: none; }
// .embed_button { font-size: 18px; }

.btn_text.selected { color: white; background-color: #696E76; }
.btn_text { background: none; color: #696E76; padding: 2px 4px; padding: 3px 8px; display: inline-block; }
.clickable { cursor: default; }

input, textarea { font-size : inherit; }

.drawer { z-index: 2; white-space : nowrap;  }

.fontsize .option { color : $color_12; vertical-align : bottom; }
// .menu label { color: $color_18; }
.fontsize .bigger .option.small { width : 70px; height : 135px; }
.fontsize .option:hover { background-color : $color_selected; color : $color_0; }
.drawer.fontname .option:hover { background-color : $color_selected; }

.hive_selection {
    background: $color_light_grey;
}
.text_content_element {
    min-width: 100%;
    word-wrap: normal;
}

}
