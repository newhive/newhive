{#<form class="login" {form_attrs "login"} method='POST' id='login_form'>#}
{# Note we are NOT using the form_attrs version of ajax here. This is because login needs to be secure but
   should be callable from unsecure frame, thus pure POST, not AJAX
  #}
<form class="login" action='{config.secure_server}api/user/login' method='POST' id='login_form'>
  <div class="field username">
      <input id='username' type='text' name='username' value='{user.name}' placeholder='username or email'>
  </div>
  <div class="field password">
    <input type='password' name='secret' placeholder='password'><br>
  </div>
  <div class='login error error_msg {<unless error.login}hide{>}'>This username / email or password isn't matching :-/</div>
  <div class='field login'>
    <a href="#" class='password_recovery'>Forgot password?</a>
    <input type='submit' class='upper teal_btn' value='Enter'>
  </div>
  <input type='hidden' name='from' value=''>
  <input type='hidden' name='expires' value=''>
  <input type='hidden' name='remember' value=''>
</form>

<div id="dia_recover" class="standard dialog" data-handle='.password_recovery'>
  <div class="error title expr">Reset your password:</div>
  <div class="subheading error_msg"></div>
  {<vcenter "success_show heading pointer"}
    <div class="centered">A password reset link was sent to your email.</div>
  {>}
  <div class="success_hide">
    <form { form_attrs "password_recover" } id='form_password_recover' method='POST'>
      <div class="form_text">Enter your email address.</div>
      <input autofocus placeholder="Email" type="text" name="email">
      <button type="submit" class="submit teal_btn upper">Enter</button>
    </form>
  </div>
</div>
