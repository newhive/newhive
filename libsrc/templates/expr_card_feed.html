{# Expression (feed)
  Tiling-sized expression view, with activity feed
  param{suppress_feed}: disable activity
#}
{# tags #}
{<if type "expr"}
  {<with null "plus_menu" user.logged_in}
    {|templates/tag_list.html}
  {>}
{>}
<a {<if type "expr"}{ query_attrs "view_expr" 
    (concat search_query (cond entropy (concat "&e=" entropy) ""))
    "id" id  "expr_name" name "owner_name" owner.name }
  {>}{<elif type "cat"}{ anchor_attrs "expressions_tag" 
    "owner_name" collection.username "tag_name" collection.tag}
  {>}
  ><img class="snapshot" src=
    {<if snapshot_small}
      "{snapshot_small}"
    {>}{<else}
      {asset "skin/site/expr_placeholder_small.jpg"}  
    {>}>
  {<vcenter "card_title"}<div class='title expr'>{title|untitled|e}</div>{>}
</a>
<div class='info'>
  <div class='owner'>
    {# Should template profile_card, but... #}
    <a {anchor_attrs "expressions_public" "owner_name" owner.name}>
      <img class="thumb" src='{owner.thumb_small}'/>
      <span>{<if curated}curated {>}by <span class='username'>{owner.name}</span></span>
    </a>
  </div>
</div>
{<unless suppress_feed}{<for feed}
  {|templates/feed_card.html}
{>}
