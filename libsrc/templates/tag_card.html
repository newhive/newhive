{# 
  Render a tag
  main_view: true if main tag list, false if on expr hover
  suppress_link: true to suppress the natural tag link behavior
  item: tag name
#}
{<unless suppress_link}
  <a {<if route.include_tags}
    {# { search_attrs "@" page_data.owner.name " " "" "#" item } #}
    {<if route.private}
      {anchor_attrs "expressions_tag_private" 
        "entropy" (get tag_entropy item) "owner_name" owner.name "tag_name" item}
    {>}{<else}
      {<if (or (eq route_name "expressions_tag") 
        (eq route_name "expressions_public_tags"))}
        {anchor_attrs "expressions_tag" "owner_name" owner.name "tag_name" item}
      {>}{<else}
        {anchor_attrs "expressions_public_grid_tags" "owner_name" 
          owner.name "tag_name" item}
      {>}
    {>}
  {>}{<else}
    {<if (and
      (or (eq item "remix") (eq item "remixed")) 
      (or remix_root_tag expr.remix_root_tag)) }
      {anchor_attrs "expressions_tag" "owner_name" 
        (or expr.remix_root_owner remix_root_owner)
        "tag_name" (or remix_root_tag expr.remix_root_tag)}
    {>}{<else}
      { search_attrs "#" item }
    {>}
  {>}
  >
{>}
<div class=
{<if (and main_view tag_selected (neq tag_selected item))}
  "tag_label tag_unselected"
{>}{<else}
  "tag_label tag_{mod tagnum 16}"
{>}
>{item}</div></a>
